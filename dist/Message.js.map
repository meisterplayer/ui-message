{"version":3,"sources":["webpack:///webpack/bootstrap e76dcead025cf23f7982","webpack:///./index.js","webpack:///./src/js/Message.js","webpack:///./src/js/template.build.js","webpack:///./src/js/utils/MessageStore.js"],"names":["Message","config","meister","wrapper","document","createElement","innerHTML","firstChild","headTitle","querySelector","title","message","errorCode","defaultHeadTitle","on","onError","bind","onItemUnloaded","style","display","error","messageOverride","getMessage","code","options","defaultWrapper","insertBefore","childNodes","Meister","UiPlugin","registerPlugin","pluginName","window","MessageStore","template","messageStore","messages","Array","isArray","i","length","console","warn"],"mappings":"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","file":"dist/Message.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e76dcead025cf23f7982","import Message from './src/js/Message';\n\nexport default Message;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import MessageStore from './utils/MessageStore';\nimport Template from './template.build';\n\nclass Message extends Meister.UiPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.wrapper = document.createElement('div');\n        this.wrapper.innerHTML = Template;\n        this.wrapper = this.wrapper.firstChild;\n\n        this.headTitle = this.wrapper.querySelector('#pf-error-head-title');\n        this.title = this.wrapper.querySelector('#pf-error-title');\n        this.message = this.wrapper.querySelector('#pf-error-message');\n        this.errorCode = this.wrapper.querySelector('#pf-error-code');\n\n        this.defaultHeadTitle = this.config.defaultHeadTitle || 'Whoops, something went wrong...';\n\n        this.on('error', this.onError.bind(this));\n        this.on('itemUnloaded', this.onItemUnloaded.bind(this));\n    }\n\n    static get pluginName() {\n        return 'Message';\n    }\n\n    onItemUnloaded() {\n        this.wrapper.style.display = 'none';\n    }\n\n    onError(error) {\n        if (!error) return;\n\n        const messageOverride = MessageStore.getMessage(error.code);\n        if (messageOverride) {\n            error = messageOverride; // eslint-disable-line\n        }\n\n        this.wrapper.style.display = 'block';\n        this.message.innerHTML = error.message;\n        this.errorCode.innerHTML = error.code;\n        this.title.innerHTML = (error.options.title ? error.options.title : '');\n        this.headTitle.innerHTML = (error.options.headTitle ? error.options.headTitle : this.defaultHeadTitle);\n    }\n\n    // Override default\n    onUiReady() {\n        this.meister.defaultWrapper.insertBefore(this.wrapper, this.meister.defaultWrapper.childNodes[0]);\n    }\n}\n\nMeister.registerPlugin('message', Message);\nMeister.registerPlugin(Message.pluginName, Message);\n\n// Expose the MessageStore through the Meister object.\nif (!window.Meister.MessageStore) window.Meister.MessageStore = MessageStore;\n\nexport default Message;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Message.js","const template = `<div class=\"pf-error-message-plugin\">\n    <div class=\"pf-error-wrapper\">\n        <h1 id=\"pf-error-head-title\">Whoops, something went wrong...</h1>\n        <h2 id=\"pf-error-title\"></h2>\n        <span id=\"pf-error-message\" class=\"pf-error-message\"></span>\n    </div>\n    <div class=\"pf-error-code-wrapper\">\n        <span class=\"pf-error-code-title\">Code:</span>\n        <span id=\"pf-error-code\" class=\"pf-error-code\">ERR-9001</span>\n    </div>\n</div>\n`;\nexport default template;\n\n\n// WEBPACK FOOTER //\n// ./src/js/template.build.js","const messageStore = {\n\n};\n\nclass MessageStore {\n    /**\n     * Store a message by a code.\n     *\n     * @param {[Object.<string>] | Object.<string>} messages Either a single\n     *     message or an array of messages.\n     */\n    static setMessages(messages) {\n        if (!(Array.isArray(messages))) {\n            messages = [messages];\n        }\n\n        for (let i = 0; i < messages.length; i++) {\n            const message = messages[i];\n\n            if (!message.code) {\n                console.warn('Message does not have property code, skipping message: ', message);\n                continue;\n            }\n\n            messageStore[message.code] = message;\n        }\n    }\n\n    /**\n     * Fetch a message by its code.\n     *\n     * @param {string} code Code for the message you want to retrieve.\n     * @return {Object.<string> | undefined} Object containing the strings for the message.\n     */\n    static getMessage(code) {\n        return messageStore[code];\n    }\n}\n\nexport default MessageStore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/MessageStore.js"],"sourceRoot":""}